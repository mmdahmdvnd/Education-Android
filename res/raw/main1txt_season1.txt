import android.net.Uri;
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.TextView;

public class Main1 extends Activity {

	
//تعریف کردن ویجتهای بکار رفته در پروژه :
	private TextView show;

	private ImageView n1;
	private ImageView n2;
	private ImageView n3;
	private ImageView n4;
	private ImageView n5;
	private ImageView n6;
	private ImageView n7;
	private ImageView n8;
	private ImageView n9;
	private ImageView n0;
	
	private ImageView nf1;
	private ImageView nf2;
	private ImageView nf3;
	private ImageView nf4;
	private ImageView nf5;
	private ImageView nf6;
	
	
//تعریف کردن متغیرهای بکار رفته در پروژه :
	private int V1;
	private String F;
	private int V2;
	
	
	
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main1);
		
	//برقرار کردن اتصال ویجتها با پروژه :
		n1=(ImageView) findViewById(R.id.n1);
		n2=(ImageView) findViewById(R.id.n2);
		n3=(ImageView) findViewById(R.id.n3);
		n4=(ImageView) findViewById(R.id.n4);
		n5=(ImageView) findViewById(R.id.n5);
		n6=(ImageView) findViewById(R.id.n6);
		n7=(ImageView) findViewById(R.id.n7);
		n8=(ImageView) findViewById(R.id.n8);
		n9=(ImageView) findViewById(R.id.n9);
		n0=(ImageView) findViewById(R.id.n0);
		
		
		nf1=(ImageView) findViewById(R.id.nf1);
		nf2=(ImageView) findViewById(R.id.nf2);
		nf3=(ImageView) findViewById(R.id.nf3);
		nf4=(ImageView) findViewById(R.id.nf4);
		nf5=(ImageView) findViewById(R.id.nf5);
		nf6=(ImageView) findViewById(R.id.nf6);
		
		show=(TextView) findViewById(R.id.show);
		

	// دستور (x)setText مقدار x را در TextView , EditText , ... چاپ میکند .	
//دستور  ()getText مقدار موجود در این ویجتها را برمیگرداند .
		
//با فشردن هر دکمه از اعداد در ماشین حساب ، عددی که با فشردن دکمه ی قبلی در تکست ویوی show تایپ شده ، در کنار عدد دکمه ای که اکنون فشرده میشود ، تایپ میشود : ("عدد"+ ()show.getText)
		
		n1.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"1");
				
			}
		});
		
		n2.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"2");
			}
		});
		
		n3.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				show.setText(show.getText()+"3");
				
			}
		});
		
		n4.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				show.setText(show.getText()+"4");
			}
		});
		
		n5.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"5");
			}
		});
		
		n6.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"6");
			}
		});
		
		n7.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"7");
			}
		});
		
		n8.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"8");
			}
		});
		
		n9.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"9");
			}
		});
		
		n0.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				show.setText(show.getText()+"0");
			}
		});
		
		
	// دستور (x)Integer.parseInt	مقدار x را به Integer تبدیل میکند .
		
		nf1.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				V1=Integer.parseInt(show.getText().toString());
				F="+";
//با فشردن دکمه ی + ، این علامت به عنوان عملگر در  F ثبت میشود و سپس با ("")show.setText عبارت داخل تکست ویوی show پاک میشود تا عدد بعدی توسط کاربر برای محاسبه وارد شود . 
				show.setText("");
			}
		});
		
		nf2.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				V1=Integer.parseInt(show.getText().toString());
				F="-";
				show.setText("");
			}
		});
		
		nf3.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				V1=Integer.parseInt(show.getText().toString());
				F="*";
				show.setText("");
				
			}
		});
		
		nf4.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
				V1=Integer.parseInt(show.getText().toString());
				F="/";
				show.setText("");
			}
		});
		
	//با فشردن کلید مساوی :	
		nf5.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
	//اگر عدد اول وارد شده بود و عملگر هم تعیین شده بود :			
				if(F !="" && show.getText().toString()!=""){	
				int res=0;

		//	عدد دوم که برای محاسبه وارد میشود ، در V2 قرار میگیرد :	V2=Integer.parseInt(show.getText().toString());
				show.setText("");
				
	//اگر عملگر + وارد شده بود مقدار V1+V2 در  res قرار میگیرد :			
				if(F=="+"){
					res=V1+V2;
				}
				
	//اگر عملگر - وارد شده بود مقدار V1-V2 در  res قرار میگیرد :				
				if(F=="-"){
					res=V1-V2;
				}

	//اگر عملگر * وارد شده بود مقدار V1*V2 در  res قرار میگیرد :			
				if(F=="*"){
					res=V1*V2;
				}


//اگر عملگر / وارد شده بود مقدار V1/V2 در  res قرار میگیرد :	
				if(F=="/"){
					res=V1/V2;
				}
				
				
				show.setText(res+"");
				}
				
				
			}
		});
		
		
		
		
		nf6.setOnClickListener(new OnClickListener(){
			public void onClick(View arg0) {
				
			//مقدار موجود در تکست ویوی show را به Integer تبدیل میکند و مقدار آنرا در متغیر in واقع در کلاس temp قرار میدهد( چون برای محاسبه در آن کلاس مورد نیاز است) :	temp.in=Integer.parseInt(show.getText().toString());
	
//با یک Intent ، اکتیویتی از کلاس Main1 به کلاس Main2 میرود : 			
				Intent next=new Intent(Main1.this,Main2.class);
				startActivity(next);
	
			}
		});
			
	}


//با برگشت از سایر اکتیویتی ها به این اکتیویتی (Main1) متد ()onResume اجرا میشود .برنامه با اینتنت بالا به اکتیویتی Main2 میرود و در آنجا طبق کدهای موجود در این کلاس مقدار temp.sw , به true تنظیم میشود و در برگشت به اکتیویتی Main1( با دستور ()finish ) , طبق کدهای زیر مقدار temp.out در تکست ویوی show نشان داده میشود :
	
	protected void onResume() {
		
		super.onResume();
		if(temp.sw==true){
			
			show.setText(temp.out+"");
			
		}
		
		
	}

	
	
	

}
